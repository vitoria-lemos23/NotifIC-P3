# Render manifest for NotifIC-P3 backend
# Edit `repo` and `branch` if necessary, and add secrets in the Render dashboard.

services:
  - type: web
    name: notific-p3-backend
    env: python
    repo: "https://github.com/vitoria-lemos23/NotifIC-P3"
    branch: Deploy
    rootDir: src/backend
    # Build from the backend rootDir (src/backend). If Render doesn't respect rootDir,
    # the buildCommand below installs the requirements by path as a fallback.
    buildCommand: python -m pip install -r requirements.txt
    # Start command: gunicorn will use the app exported by src/backend/wsgi.py
    # Use --chdir as a fallback so the process runs with the backend as cwd
    startCommand: gunicorn --chdir src/backend --bind 0.0.0.0:$PORT wsgi:app
    plan: starter
    envVars:
      - key: DATABASE_URL
        value: ""   # set in Render dashboard (preferred) or attach a managed Postgres
        sync: true
      - key: SECRET_KEY
        value: ""
      - key: MAIL_USERNAME
        value: ""
      - key: MAIL_PASSWORD
        value: ""

# If you prefer Render to create a managed Postgres, uncomment and adjust below.
# databases:
#  - name: notific-p3-db
#    plan: starter
#    region: oregon
